"use strict";(self.webpackChunkproperty_shop=self.webpackChunkproperty_shop||[]).push([[725],{1234:function(t,e,s){s.d(e,{Z:function(){return i}});s(2791);var a=s(6128),l=s(184),i=function(){return(0,l.jsx)("div",{className:"bid-loader",children:(0,l.jsx)(a.Z,{})})}},1426:function(t,e,s){s.d(e,{G:function(){return n},R:function(){return l}});var a,l,i=s(4942);!function(t){t.NEW="NEW",t.COMPLETED="COMPLETED",t.IN_WORK="IN_WORK"}(l||(l={}));var n=(a={},(0,i.Z)(a,l.NEW,"\u041d\u043e\u0432\u0430\u044f"),(0,i.Z)(a,l.IN_WORK,"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"),(0,i.Z)(a,l.COMPLETED,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0430\u044f"),a)},1333:function(t,e,s){s.d(e,{J:function(){return l},L:function(){return n}});var a,l,i=s(4942);!function(t){t.BOOKING="BOOKING",t.VIEWING="VIEWING"}(l||(l={}));var n=(a={},(0,i.Z)(a,l.BOOKING,"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),(0,i.Z)(a,l.VIEWING,"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),a)},7710:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var a,l,i=s(2791),n=s(1413),r=s(885),d=s(9911),c=s(9565),u=function(t){return t.bids},b=s(779),h=s(7689),o=s(184),_=function(t){var e=t.type,s=t.text;return(0,o.jsx)("span",{className:"badge badge--".concat(e),children:s})},N=s(4942);!function(t){t.NEW="NEW",t.IN_WORK="IN_WORK",t.COMPLETED="COMPLETED"}(l||(l={}));var x=(a={},(0,N.Z)(a,l.NEW,"\u041d\u043e\u0432\u0430\u044f"),(0,N.Z)(a,l.IN_WORK,"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"),(0,N.Z)(a,l.COMPLETED,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0430\u044f"),a),f=s(1333),j=s(2178),m=function(t){var e=(0,h.s0)();return(0,o.jsxs)("tr",{onClick:function(){return e("/property-shop/bid/".concat(t.id))},className:"table-bid",children:[(0,o.jsx)("td",{className:"table-bid__td","data-label":"ID",children:t.id}),(0,o.jsx)("td",{className:"table-bid__td","data-label":"\u0414\u0430\u0442\u0430",children:(0,j.D)(t.date).day}),(0,o.jsx)("td",{className:"table-bid__td","data-label":"\u0423\u0441\u043b\u0443\u0433\u0430",children:f.L[t.type]}),(0,o.jsx)("td",{className:"table-bid__td","data-label":"\u0418\u043c\u044f",children:(0,o.jsxs)("p",{children:[t.firstName," ",t.lastName]})}),(0,o.jsx)("td",{className:"table-bid__td","data-label":"Email",children:t.email}),(0,o.jsx)("td",{className:"table-bid__td","data-label":"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",children:t.phone}),(0,o.jsx)("td",{className:"table-bid__td","data-label":"\u0421\u0442\u0430\u0442\u0443\u0441",children:(0,o.jsx)(_,{type:l[t.status],text:x[t.status]})})]})},v=s(938),p=s(2935),E=s(1087),O=s(2141),y=function(){return(0,o.jsx)("thead",{className:"bids-table-header",children:(0,o.jsxs)("tr",{className:"bids-table-header__row",children:[(0,o.jsx)("th",{className:"bids-table-header__th",style:{width:70},children:"ID"}),(0,o.jsx)("th",{className:"bids-table-header__th",style:{width:110},children:"\u0434\u0430\u0442\u0430"}),(0,o.jsx)("th",{className:"bids-table-header__th",style:{width:170},children:"\u0423\u0441\u043b\u0443\u0433\u0430"}),(0,o.jsx)("th",{className:"bids-table-header__th",children:"\u0438\u043c\u044f"}),(0,o.jsx)("th",{className:"bids-table-header__th",children:"email"}),(0,o.jsx)("th",{className:"bids-table-header__th",children:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,o.jsx)("th",{className:"bids-table-header__th",style:{width:130},children:"\u0441\u0442\u0430\u0442\u0443\u0441"})]})})},I=s(1234),L=function(){var t=(0,c.C)(u),e=t.isLoading,s=t.error,a=t.list,l=t.totalCount,h=(0,E.lr)(),_=(0,r.Z)(h,1)[0],N=(0,d.T)(),x=Math.ceil(Number(l)/8);return i.useEffect((function(){N((0,b.C)({query:_.toString(),limit:8}))}),[N,_,8]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("table",{className:"bids-table",children:[(0,o.jsx)(y,{}),(0,o.jsx)("tbody",{className:"bids-table__body",children:!e&&a.map((function(t){return(0,o.jsx)(m,(0,n.Z)({},t),t.id)}))})]}),s&&(0,o.jsx)(p.Z,{type:v.z.ERROR,message:s}),!s&&!e&&a.length<1&&(0,o.jsx)(p.Z,{type:v.z.INFO,message:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u044f\u0432\u043e\u043a \u043f\u0443\u0441\u0442."}),e&&(0,o.jsx)(I.Z,{}),x>1&&!e&&(0,o.jsx)(O.Z,{limit:8,totalPages:x})]})},Z=s(1694),g=s.n(Z),W=s(1426),R=function(){var t=(0,E.lr)(),e=(0,r.Z)(t,2),s=e[0],a=e[1];return(0,o.jsxs)("div",{onClick:function(t){var e=t.currentTarget,l=t.target;if(l.closest("[data-value]")){var i=l.dataset.value;e.querySelectorAll("[data-value]").forEach((function(t){return t.classList.remove("active")})),l.classList.add("active"),"ALL"===i?s.delete("status"):s.set("status",i),s.delete("_page"),a(s)}},className:"bids-filter-statuses",children:[(0,o.jsx)("button",{className:"bids-filter-statuses__btn","data-value":"ALL",children:"\u0412\u0441\u0435"}),(0,o.jsx)("button",{className:g()("bids-filter-statuses__btn",{"bids-filter-statuses__btn--active":s.get("status")===W.R.NEW}),"data-value":W.R.NEW,children:"\u041d\u043e\u0432\u044b\u0435"}),(0,o.jsx)("button",{className:g()("bids-filter-statuses__btn",{"bids-filter-statuses__btn--active":s.get("status")===W.R.IN_WORK}),"data-value":W.R.IN_WORK,children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}),(0,o.jsx)("button",{className:g()("bids-filter-statuses__btn",{"bids-filter-statuses__btn--active":s.get("status")===W.R.COMPLETED}),"data-value":W.R.COMPLETED,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"})]})},C=s(3404),D=function(){var t=(0,E.lr)(),e=(0,r.Z)(t,2),s=e[0],a=e[1];return(0,o.jsxs)(C.Z,{onChange:function(t){var e=t.target.value;"ALL"===e?s.delete("type"):s.set("type",e),s.delete("_page"),a(s)},className:"bids-filter-select",defaultValue:s.has("type")?s.get("type"):"ALL",children:[(0,o.jsx)("option",{value:"ALL",children:"\u0412\u0441\u0435 \u0437\u0430\u044f\u0432\u043a\u0438"}),(0,o.jsx)("option",{value:"BOOKING",children:"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,o.jsx)("option",{value:"VIEWING",children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"})]})},K=function(){return(0,o.jsxs)("div",{className:"bids-filter",children:[(0,o.jsx)(R,{}),(0,o.jsx)(D,{})]})},T=s(5563),G=function(){return(0,o.jsx)("section",{className:"bids",children:(0,o.jsxs)("div",{className:"bids__content",children:[(0,o.jsx)(T.Z,{text:"\u0412\u0441\u0435 \u0437\u0430\u044f\u0432\u043a\u0438",className:"bids__title"}),(0,o.jsx)(K,{}),(0,o.jsx)(L,{})]})})},M=s(4803),P=function(){return(0,o.jsx)("main",{className:"main",children:(0,o.jsx)(M.Z,{type:"fluid",children:(0,o.jsx)(G,{})})})}},2178:function(t,e,s){s.d(e,{D:function(){return l}});var a=s(885),l=function(t){var e=t.split("T"),s=(0,a.Z)(e,2),l=s[0],i=s[1];return{day:l=l.split("-").reverse().join("."),time:i=i.substring(0,5)}}}}]);
//# sourceMappingURL=Bids.9e69c28a.chunk.js.map