"use strict";(self.webpackChunkproperty_shop=self.webpackChunkproperty_shop||[]).push([[150],{1234:function(e,a,t){t.d(a,{Z:function(){return r}});t(2791);var i=t(6128),n=t(184),r=function(){return(0,n.jsx)("div",{className:"bid-loader",children:(0,n.jsx)(i.Z,{})})}},5855:function(e,a,t){t.d(a,{Z:function(){return d}});var i=t(1413),n=t(4925),r=(t(2791),t(1087)),s=t(1694),l=t.n(s),o=t(184),u=["color","text","to","className"],d=function(e){var a=e.color,t=e.text,s=e.to,d=e.className,m=(0,n.Z)(e,u);return(0,o.jsx)(o.Fragment,{children:s?(0,o.jsx)(r.rU,{to:s,className:l()("action-button","action-button--".concat(a),d),children:t}):(0,o.jsx)("button",(0,i.Z)((0,i.Z)({},m),{},{className:l()("action-button","action-button--".concat(a),d),children:t}))})}},4277:function(e,a,t){t.d(a,{Z:function(){return n}});t(2791);var i=t(184),n=function(e){var a=e.text;return(0,i.jsx)("p",{className:"form-error-message",children:a})}},9061:function(e,a,t){t.d(a,{Z:function(){return n}});t(2791);var i=t(184),n=function(e){var a=e.children;return(0,i.jsx)("footer",{className:"bid-footer",children:a})}},9391:function(e,a,t){t.d(a,{Z:function(){return s}});t(2791);var i=t(1694),n=t.n(i),r=t(184),s=function(e){var a=e.rawName,t=e.rawValue,i=e.rawClassName;return(0,r.jsxs)("div",{className:n()("bid-info-raw",i),children:[(0,r.jsx)("div",{className:"bid-info-raw__name",children:a}),(0,r.jsx)("div",{className:"bid-info-raw__value",children:t})]})}},1333:function(e,a,t){t.d(a,{J:function(){return n},L:function(){return s}});var i,n,r=t(4942);!function(e){e.BOOKING="BOOKING",e.VIEWING="VIEWING"}(n||(n={}));var s=(i={},(0,r.Z)(i,n.BOOKING,"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),(0,r.Z)(i,n.VIEWING,"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),i)},1281:function(e,a,t){t.d(a,{O:function(){return i}});var i=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/},8833:function(e,a,t){t.r(a),t.d(a,{default:function(){return K}});var i=t(1413),n=t(885),r=t(2791),s=t(7689),l=t(2935),o=t(1234),u=t(938),d=t(9911),m=t(7818),c=t(1333),h=t(4165),b=t(5861),f=t(5705),p=t(3488),x=t(841),N=t(7370),w=t(3397),v=(0,p.a)("bids/patchBid",function(){var e=(0,b.Z)((0,h.Z)().mark((function e(a,t){var i,n,r,s,l;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.rejectWithValue,n=t.dispatch,e.prev=1,e.next=4,x.i.patch("bids/".concat(a.id),a);case 4:return e.abrupt("return",{message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"});case 7:if(e.prev=7,e.t0=e.catch(1),r=(0,w.s)(e.t0),s=r.isAuthError,l=r.message,!s){e.next=13;break}return n((0,N.TX)()),e.abrupt("return",i({message:l}));case 13:return e.abrupt("return",i({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}));case 14:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a,t){return e.apply(this,arguments)}}()),_=t(7443),j=t(8638),Z=t(5855),g=t(2797),C=t(1281),k=g.Ry().shape({firstName:g.Z_().min(2,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: 2").max(35,"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),lastName:g.Z_().min(2,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: 2").max(35,"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:g.Z_().email("\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),phone:g.Z_().matches(C.O,"\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),y=t(8302),E=t(3404),B=t(4277),O=t(9391),S=t(2178),T=t(9061),I=t(1694),V=t.n(I),F=t(184),R=function(e){var a=e.labelText,t=e.htmlFor,i=e.rawClassName,n=e.children;return(0,F.jsxs)("div",{className:V()("bid-edit-input-raw",i),children:[(0,F.jsx)("label",{className:"bid-edit-input-raw__name",htmlFor:t,children:a}),(0,F.jsx)("div",{className:"bid-edit-input-raw__wrapper",children:n})]})},G=function(e){var a=(0,S.D)(e.date),t={id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,status:e.status},i=(0,d.T)(),n=(0,s.s0)(),r=function(){var e=(0,b.Z)((0,h.Z)().mark((function e(a){var t,r;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(v(a)).unwrap();case 3:t=e.sent,(0,_.M)(j.Q.SUCCESS,t.message),n(-1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0,(0,_.M)(j.Q.ERROR,r.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return(0,F.jsx)(f.J9,{initialValues:t,validationSchema:k,onSubmit:r,children:function(t){var i=t.handleSubmit,r=t.handleChange,s=t.handleBlur,l=t.values,o=t.errors,u=t.touched,d=t.isSubmitting;return(0,F.jsxs)("form",{onSubmit:i,className:"bid-edit-booking-form",children:[(0,F.jsx)(O.Z,{rawClassName:"bid-edit-booking-form__info-raw",rawName:"ID:",rawValue:"\u0417\u0430\u044f\u0432\u043a\u0430 \u2116".concat(e.id)}),(0,F.jsx)(O.Z,{rawClassName:"bid-edit-booking-form__info-raw",rawName:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f:",rawValue:"".concat(a.day," ").concat(a.time)}),(0,F.jsx)(O.Z,{rawClassName:"bid-edit-booking-form__info-raw",rawName:"\u0423\u0441\u043b\u0443\u0433\u0430:",rawValue:c.L[e.type]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-booking-form__input-raw",labelText:"\u0418\u043c\u044f:",htmlFor:"bid-firstName",children:[(0,F.jsx)(y.Z,{className:"bid-edit-booking-form__input",id:"bid-firstName",name:"firstName",onChange:r,onBlur:s,value:l.firstName,disabled:d,placeholder:"\u0418\u043c\u044f"}),o.firstName&&u.firstName&&(0,F.jsx)(B.Z,{text:o.firstName})]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-booking-form__input-raw",labelText:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:",htmlFor:"bid-lastName",children:[(0,F.jsx)(y.Z,{className:"bid-edit-booking-form__input",id:"bid-lastName",name:"lastName",onChange:r,onBlur:s,value:l.lastName,disabled:d,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),o.lastName&&u.lastName&&(0,F.jsx)(B.Z,{text:o.lastName})]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-booking-form__input-raw",labelText:"Email:",htmlFor:"bid-email",children:[(0,F.jsx)(y.Z,{className:"bid-edit-booking-form__input",id:"bid-email",name:"email",onChange:r,onBlur:s,value:l.email,disabled:d,placeholder:"Email"}),o.email&&u.email&&(0,F.jsx)(B.Z,{text:o.email})]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-booking-form__input-raw",labelText:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:",htmlFor:"bid-phone",children:[(0,F.jsx)(y.Z,{className:"bid-edit-booking-form__input",id:"bid-phone",name:"phone",onChange:r,onBlur:s,value:l.phone,disabled:d,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),o.phone&&u.phone&&(0,F.jsx)(B.Z,{text:o.phone})]}),(0,F.jsx)(O.Z,{rawClassName:"bid-edit-booking-form__info-raw",rawName:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:",rawValue:e.birthdate}),(0,F.jsx)(R,{rawClassName:"bid-edit-booking-form__input-raw",labelText:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u044f\u0432\u043a\u0438:",htmlFor:"bid-phone",children:(0,F.jsxs)(E.Z,{className:"bid-edit-booking-form__select",id:"bid-status",name:"status",onChange:r,onBlur:s,value:l.status,disabled:d,children:[(0,F.jsx)("option",{value:"NEW",children:"\u041d\u043e\u0432\u0430\u044f"}),(0,F.jsx)("option",{value:"IN_WORK",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}),(0,F.jsx)("option",{value:"COMPLETED",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0430\u044f"})]})}),(0,F.jsx)(O.Z,{rawClassName:"bid-edit-booking-form__info-raw",rawName:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435:",rawValue:e.comment}),(0,F.jsxs)(T.Z,{children:[(0,F.jsx)(Z.Z,{color:"blue",text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",type:"submit",disabled:d}),(0,F.jsx)(Z.Z,{color:"yellow",text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",type:"button",onClick:function(){return n(-1)}})]})]})}})},W=g.Ry().shape({firstName:g.Z_().min(2,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: 2").max(35,"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),lastName:g.Z_().min(2,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: 2").max(35,"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:g.Z_().email("\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),phone:g.Z_().matches(C.O,"\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),q=function(e){var a=(0,S.D)(e.date),t={id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,status:e.status},i=(0,d.T)(),n=(0,s.s0)(),r=function(){var e=(0,b.Z)((0,h.Z)().mark((function e(a){var t,r;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(v(a)).unwrap();case 3:t=e.sent,(0,_.M)(j.Q.SUCCESS,t.message),n(-1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0,(0,_.M)(j.Q.ERROR,r.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return(0,F.jsx)(f.J9,{initialValues:t,validationSchema:W,onSubmit:r,children:function(t){var i=t.handleSubmit,r=t.handleChange,s=t.handleBlur,l=t.values,o=t.errors,u=t.touched,d=t.isSubmitting;return(0,F.jsxs)("form",{onSubmit:i,className:"bid-edit-viewing-form",children:[(0,F.jsx)(O.Z,{rawClassName:"bid-edit-viewing-form__input-raw",rawName:"ID:",rawValue:"\u0417\u0430\u044f\u0432\u043a\u0430 \u2116".concat(e.id)}),(0,F.jsx)(O.Z,{rawClassName:"bid-edit-viewing-form__input-raw",rawName:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f:",rawValue:"".concat(a.day," ").concat(a.time)}),(0,F.jsx)(O.Z,{rawClassName:"bid-edit-viewing-form__input-raw",rawName:"\u0423\u0441\u043b\u0443\u0433\u0430:",rawValue:c.L[e.type]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-viewing-form__input-raw",labelText:"\u0418\u043c\u044f:",htmlFor:"bid-firstName",children:[(0,F.jsx)(y.Z,{className:"bid-edit-viewing-form__input",id:"bid-firstName",name:"firstName",onChange:r,onBlur:s,value:l.firstName,disabled:d,placeholder:"\u0418\u043c\u044f"}),o.firstName&&u.firstName&&(0,F.jsx)(B.Z,{text:o.firstName})]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-viewing-form__input-raw",labelText:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:",htmlFor:"bid-lastName",children:[(0,F.jsx)(y.Z,{className:"bid-edit-viewing-form__input",id:"bid-lastName",name:"lastName",onChange:r,onBlur:s,value:l.lastName,disabled:d,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),o.lastName&&u.lastName&&(0,F.jsx)(B.Z,{text:o.lastName})]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-viewing-form__input-raw",labelText:"Email:",htmlFor:"bid-email",children:[(0,F.jsx)(y.Z,{className:"bid-edit-viewing-form__input",id:"bid-email",name:"email",onChange:r,onBlur:s,value:l.email,disabled:d,placeholder:"Email"}),o.email&&u.email&&(0,F.jsx)(B.Z,{text:o.email})]}),(0,F.jsxs)(R,{rawClassName:"bid-edit-viewing-form__input-raw",labelText:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:",htmlFor:"bid-phone",children:[(0,F.jsx)(y.Z,{className:"bid-edit-viewing-form__input",id:"bid-phone",name:"phone",onChange:r,onBlur:s,value:l.phone,disabled:d,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),o.phone&&u.phone&&(0,F.jsx)(B.Z,{text:o.phone})]}),(0,F.jsx)(R,{rawClassName:"bid-edit-viewing-form__input-raw",labelText:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u044f\u0432\u043a\u0438:",htmlFor:"bid-phone",children:(0,F.jsxs)(E.Z,{className:"bid-edit-viewing-form__select",id:"bid-status",name:"status",onChange:r,onBlur:s,value:l.status,disabled:d,children:[(0,F.jsx)("option",{value:"NEW",children:"\u041d\u043e\u0432\u0430\u044f"}),(0,F.jsx)("option",{value:"IN_WORK",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}),(0,F.jsx)("option",{value:"COMPLETED",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0430\u044f"})]})}),(0,F.jsxs)(T.Z,{children:[(0,F.jsx)(Z.Z,{color:"blue",text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",type:"submit",disabled:d}),(0,F.jsx)(Z.Z,{color:"yellow",text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",type:"button",onClick:function(){return n(-1)}})]})]})}})},D=function(e){return(0,F.jsxs)(F.Fragment,{children:[e.type===c.J.BOOKING&&(0,F.jsx)(G,(0,i.Z)({},e)),e.type===c.J.VIEWING&&(0,F.jsx)(q,(0,i.Z)({},e))]})},K=function(){var e=(0,s.UO)().id,a=void 0===e?"":e,t=r.useState(null),c=(0,n.Z)(t,2),h=c[0],b=c[1],f=r.useState(!0),p=(0,n.Z)(f,2),x=p[0],N=p[1],w=r.useState(null),v=(0,n.Z)(w,2),_=v[0],j=v[1],Z=(0,d.T)();return r.useEffect((function(){N(!0),Z((0,m.G)(a)).unwrap().then((function(e){b(e),j(null)})).catch((function(e){b(null),j(e.message)})).finally((function(){return N(!1)}))}),[Z,a]),(0,F.jsxs)(F.Fragment,{children:[_&&(0,F.jsx)(l.Z,{type:u.z.ERROR,message:_}),x&&(0,F.jsx)(o.Z,{}),!x&&h&&(0,F.jsx)(D,(0,i.Z)({},h))]})}},7818:function(e,a,t){t.d(a,{G:function(){return u}});var i=t(4165),n=t(5861),r=t(3488),s=t(841),l=t(7370),o=t(3397),u=(0,r.a)("bids/fetchBidById",function(){var e=(0,n.Z)((0,i.Z)().mark((function e(a,t){var n,r,u,d,m,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.dispatch,e.prev=1,e.next=4,s.i.get("bids/".concat(a));case 4:return u=e.sent,e.abrupt("return",u.data);case 8:return e.prev=8,e.t0=e.catch(1),d=(0,o.s)(e.t0),m=d.isAuthError,c=d.message,m&&r((0,l.TX)()),e.abrupt("return",n({message:c}));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}())},2178:function(e,a,t){t.d(a,{D:function(){return n}});var i=t(885),n=function(e){var a=e.split("T"),t=(0,i.Z)(a,2),n=t[0],r=t[1];return{day:n=n.split("-").reverse().join("."),time:r=r.substring(0,5)}}}}]);
//# sourceMappingURL=BidEdit.307b995d.chunk.js.map